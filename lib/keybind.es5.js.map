{"version":3,"file":"keybind.es5.js","sources":["../node_modules/@suporka/mini-emitter/lib/mini-emitter.es5.js"],"sourcesContent":["/**\r\n * MiniEmitter 事件订阅发布容器\r\n */\r\nvar MiniEmitter = /** @class */ (function () {\r\n    function MiniEmitter() {\r\n        /**事件集合 */\r\n        this.eventMap = {};\r\n    }\r\n    /**\r\n     * 事件订阅\r\n     * @param name 事件名称\r\n     * @param callback 事件回调\r\n     * @param ctx this 上下文\r\n     */\r\n    MiniEmitter.prototype.on = function (name, callback, ctx) {\r\n        if (ctx === void 0) { ctx = null; }\r\n        if (this.eventMap[name] === undefined) {\r\n            this.eventMap[name] = [];\r\n        }\r\n        this.eventMap[name].push({\r\n            fn: callback,\r\n            ctx: ctx\r\n        });\r\n    };\r\n    /**\r\n     * 事件发布\r\n     * @param name 事件名称\r\n     * @param args 剩余参数\r\n     */\r\n    MiniEmitter.prototype.emit = function (name) {\r\n        var args = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            args[_i - 1] = arguments[_i];\r\n        }\r\n        if (this.eventMap[name] && this.eventMap[name].length) {\r\n            this.eventMap[name].forEach(function (obj) {\r\n                obj.fn.apply(obj.ctx, args);\r\n            });\r\n        }\r\n        else {\r\n            throw Error(\"\".concat(name, \" event is not exist!\"));\r\n        }\r\n    };\r\n    /**\r\n     * 删除对应的事件，有callback则删除指定事件，没有则删除整个事件名事件\r\n     * @param name 事件名称\r\n     * @param callback 事件回调\r\n     */\r\n    MiniEmitter.prototype.off = function (name, callback) {\r\n        if (!callback && this.eventMap[name])\r\n            delete this.eventMap[name];\r\n        else {\r\n            if (this.eventMap[name]) {\r\n                this.eventMap[name] = this.eventMap[name].filter(function (obj) { return obj.fn !== callback; });\r\n            }\r\n            else {\r\n                throw Error(\"\".concat(name, \" event is not exist!\"));\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * 执行一次的事件订阅\r\n     * @param name 事件名称\r\n     * @param callback 事件回调\r\n     * @param ctx this 上下文\r\n     * @returns\r\n     */\r\n    MiniEmitter.prototype.once = function (name, callback, ctx) {\r\n        if (ctx === void 0) { ctx = null; }\r\n        var that = this;\r\n        function listener() {\r\n            that.off(name, listener);\r\n            callback && callback.apply(ctx, arguments);\r\n        }\r\n        return this.on(name, listener, ctx);\r\n    };\r\n    return MiniEmitter;\r\n}());\n\nexport default MiniEmitter;\n//# sourceMappingURL=mini-emitter.es5.js.map\n"],"names":[],"mappings":"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"}